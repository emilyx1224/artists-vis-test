{"remainingRequest":"/Users/xueyangxin/Documents/GT_19_Fall/InfoVis/InfoVis_Proj/artists-vis-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xueyangxin/Documents/GT_19_Fall/InfoVis/InfoVis_Proj/artists-vis-test/src/components/PicPreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xueyangxin/Documents/GT_19_Fall/InfoVis/InfoVis_Proj/artists-vis-test/src/components/PicPreview.vue","mtime":1576007872149},{"path":"/Users/xueyangxin/Documents/GT_19_Fall/InfoVis/InfoVis_Proj/artists-vis-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xueyangxin/Documents/GT_19_Fall/InfoVis/InfoVis_Proj/artists-vis-test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xueyangxin/Documents/GT_19_Fall/InfoVis/InfoVis_Proj/artists-vis-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xueyangxin/Documents/GT_19_Fall/InfoVis/InfoVis_Proj/artists-vis-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBldmVudEh1YiBmcm9tICdAL2V2ZW50SHViJwppbXBvcnQgKiBhcyBkMyBmcm9tICdkMycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaW1nX25hbWU6ICcnLAogICAgICAgICAgICBpbWdfeWVhcjogJ1BsZWFzZSBob3ZlciBvdmVyIHRoZSBjb2xvciBzcXVhcmVzIG9uIHRoZSByaWdodCB0byBwcmV2aWV3IHBhaW50aW5ncycsCiAgICAgICAgICAgIGltZ19wYXRoOiAnJywKICAgICAgICAgICAgYXJ0aXN0X25hbWU6ICcnLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGltZ19pbmZvOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKHRoaXMuaW1nX25hbWUgPT0gJycpIHsKICAgICAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmltZ19uYW1lICsgJyAoJyArIHRoaXMuaW1nX3llYXIgKyAnKSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgZXZlbnRIdWIuJG9uKCdwcmV2aWV3UGljJywgcGljX2luZm8gPT4gewogICAgICAgICAgICBzZWxmLmltZ19uYW1lID0gcGljX2luZm9bJ25hbWVfb2ZfcGljJ107CiAgICAgICAgICAgIHNlbGYuaW1nX3llYXIgPSBwaWNfaW5mb1sneWVhcl9vZl9waWMnXTsKICAgICAgICAgICAgc2VsZi5hcnRpc3RfbmFtZSA9IHBpY19pbmZvWydhcnRpc3RfbmFtZSddOwogICAgICAgICAgICBzZWxmLmltZ19wYXRoID0gJy4vc2FtcGxlZF9pbWFnZXMvJyArIHBpY19pbmZvWydhcnRpc3RfbmFtZSddLnNwbGl0KCcgJykuam9pbignXycpICsgJy8nICsgcGljX2luZm9bJ2ZpbGVuYW1lJ107CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGYuaW1nX3BhdGgpOwogICAgICAgICAgICB0aGlzLnJlbmRlckNvbG9yQmFyKHBpY19pbmZvKTsKICAgICAgICB9KQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICByZW5kZXJDb2xvckJhcihwaWNfaW5mbykgewogICAgICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcuY29sb3JCYXInKTsKICAgICAgICAgICAgdmFyIGhlaWdodCA9IDE3NTsKICAgICAgICAgICAgdmFyIHdpZHRoID0gMTY7CiAgICAgICAgICAgIHZhciBwcmV2ID0gMDsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCAxMTsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgc3RyID0gcGljX2luZm9bJ2NvbG9yJyArIGkudG9TdHJpbmcoKV07CiAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IHBhcnNlRmxvYXQoc3RyLnNwbGl0KCI6IilbMV0pOwogICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgicmVjdCIpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImhlaWdodCIsIE1hdGguY2VpbChoZWlnaHQqcGVyY2VudCkpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoIndpZHRoIiwgd2lkdGgpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCAwKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgcHJldikKICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIHN0ci5zbGljZSgwLCA3KSk7CiAgICAgICAgICAgICAgICBwcmV2ID0gcHJldiArIGhlaWdodCpwZXJjZW50OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["PicPreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PicPreview.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    \n        <!-- <el-col >\n            <p> {{this.img_name}} ({{this.img_year}}) </p>\n            <p>{{this.artist_name}}</p>\n        </el-col> -->\n\n        <!-- <el-col>\n            <svg class=\"colorBar\"></svg>\n        </el-col>\n        \n        <el-col>\n            <img :src=\"this.img_path\">\n        </el-col> -->\n    <div id=\"pic-preview\">\n        <el-row :gutter=\"0\">\n            <el-col :span=\"22\"> \n                <div class=\"preview-container\">\n                    <div class=\"img-container\">\n                        <img :src=\"this.img_path\" class=\"img-preview\">\n                        <div class=\"text-bg\">\n                            <div class=\"preview-text line1\">{{this.img_name}} ({{this.img_year}})</div>\n                            <div class=\"preview-text line2\">{{this.artist_name}}</div>\n                        </div>\n                    </div>\n                </div>\n            </el-col>\n            <el-col :span=\"2\"> \n                    <!-- <el-col> -->\n                <div class=\"colorBar-container\">\n                    <svg class=\"colorBar\"></svg>\n                </div>\n                    <!-- </el-col> -->\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport eventHub from '@/eventHub'\nimport * as d3 from 'd3'\n\nexport default {\n    data() {\n        return {\n            img_name: '',\n            img_year: 'Please hover over the color squares on the right to preview paintings',\n            img_path: '',\n            artist_name: '',\n        }\n    },\n    computed: {\n        img_info: function() {\n            if (this.img_name == '') {\n                return '';\n            } else {\n                return this.img_name + ' (' + this.img_year + ')';\n            }\n        }\n    },\n    mounted() {\n        var self = this;\n        eventHub.$on('previewPic', pic_info => {\n            self.img_name = pic_info['name_of_pic'];\n            self.img_year = pic_info['year_of_pic'];\n            self.artist_name = pic_info['artist_name'];\n            self.img_path = './sampled_images/' + pic_info['artist_name'].split(' ').join('_') + '/' + pic_info['filename'];\n            // console.log(self.img_path);\n            this.renderColorBar(pic_info);\n        })\n    },\n    methods: {\n        renderColorBar(pic_info) {\n            var svg = d3.select('.colorBar');\n            var height = 175;\n            var width = 16;\n            var prev = 0;\n            for (var i = 1; i < 11; i++) {\n                var str = pic_info['color' + i.toString()];\n                var percent = parseFloat(str.split(\":\")[1]);\n                svg.append(\"rect\")\n                    .attr(\"height\", Math.ceil(height*percent))\n                    .attr(\"width\", width)\n                    .attr('x', 0)\n                    .attr('y', prev)\n                    .attr('fill', str.slice(0, 7));\n                prev = prev + height*percent;\n            }\n        }\n    }\n}\n</script>\n\n<style>\n/* style the whole component */\n#pic-preview{\n    background: #2e2e2e;\n    border-top: white 1px solid;\n}\n\n.preview-container {\n  position: relative;\n  text-align: center;\n  color: white;\n  /* height: 180px; */\n  width: 300px;\n  display:inline-block;\n}\n.img-container{\n  height: 180px;\n  width: 250px;\n  display: inline-block;\n  vertical-align: top;\n\n}\n.colorBar-container{\n  /* height: 180px;\n  width: 50px;\n  */\n  display: inline-block;\n  vertical-align:top;\n  position: absolute;\n  left:280px;\n  height:180px;\n \n}\n.colorBar{\n    width: 16px;\n    height: 180px;\n   \n}\n.preview-container .text-bg{\n  position:absolute;\n  background:rgba(0, 0, 0, 0.61);\n  top:80%;\n  left:50%;\n  transform:translate(-50%,-50%);\n  padding:30px 150px;\n  text-align:center;\n}\n.preview-text {\n  font-family:'Roboto',sans-serif;\n  font-size: 10px;\n  position: absolute;\n  /* background-color:hotpink; */\n  /* top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%); */\n}\n.line1{\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.line2{\n  top: 80%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.img-preview{\n    display:inline-block;\n    max-width: 100%;\n    max-height: 100%;\n}\n/* .colorBar{\n    display:inline-block;\n} */\n</style>"]}]}